// Decompiled with JetBrains decompiler
// Type: TabPage
// Assembly: SQLi Dumper, Version=8.5.0.0, Culture=neutral, PublicKeyToken=null
// MVID: FFDD07D3-5737-4188-BACA-DE2D004C7CCF
// Assembly location: C:\Users\cole\Desktop\SQLi Dumper v8.5 [VeryClean]\SQLi v.8.5 VeryClean by Stephanny.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.Drawing.Drawing2D;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Threading;
using System.Windows.Forms;

[Description("Represents a single tab page in a MdiTabControl.TabControl.")]
[DesignTimeVisible(false)]
[DesignerGenerated]
public class TabPage : Control
{
  private IContainer components;
  [AccessedThroughProperty("imgAnimate")]
  private ImageList _imgAnimate;
  [AccessedThroughProperty("tmrAnimate")]
  private System.Windows.Forms.Timer _tmrAnimate;
  private Color __BackHighColor;
  private Color __BackHighColorDisabled;
  private Color __BackLowColor;
  private Color __BackLowColorDisabled;
  private Color __BorderColor;
  private Color __BorderColorDisabled;
  private Color __ForeColorDisabled;
  private bool __Selected;
  private bool __Hot;
  private int __MaximumWidth;
  private int __MinimumWidth;
  private int __PadLeft;
  private int __PadRight;
  private bool __CloseButtonVisible;
  private Image __CloseButton;
  private Image __CloseButtonImageHot;
  private Image __CloseButtonImageDisabled;
  private Color __CloseButtonBackHighColor;
  private Color __CloseButtonBackLowColor;
  private Color __CloseButtonBorderColor;
  private Color __CloseButtonForeColor;
  private Color __CloseButtonBackHighColorDisabled;
  private Color __CloseButtonBackLowColorDisabled;
  private Color __CloseButtonBorderColorDisabled;
  private Color __CloseButtonForeColorDisabled;
  private Color __CloseButtonBackHighColorHot;
  private Color __CloseButtonBackLowColorHot;
  private Color __CloseButtonBorderColorHot;
  private Color __CloseButtonForeColorHot;
  private bool __HotTrack;
  private Size __CloseButtonSize;
  private bool __FontBoldOnSelect;
  private Size __IconSize;
  private SmoothingMode __SmoothingMode;
  private TabControl.TabAlignment __Alignment;
  private bool __GlassGradient;
  private bool __BorderEnhanced;
  private ToolStripRenderMode __RenderMode;
  private TabControl.Weight __BorderEnhanceWeight;
  private bool __IconVisible;
  private bool __ConfirmeClose;
  private int __Index;
  [AccessedThroughProperty("__Form")]
  private Form ___Form;
  internal bool TabVisible;
  internal int TabLeft;
  internal ToolStripMenuItem MenuItem;
  private bool __MouseOverCloseButton;
  private Icon[] __Icons;
  [SpecialName]
  private int .STATIC.tmrAnimate_Tick.20211C1280B9.iTick;
  [SpecialName]
  private bool .STATIC.Tab_MouseMove.20211C128129.State;
  [SpecialName]
  private StaticLocalInitFlag .STATIC.Tab_MouseMove.20211C128129.State.Init;

  [DebuggerNonUserCode]
  protected override void Dispose(bool disposing)
  {
    if (disposing && this.components != null)
      this.components.Dispose();
    base.Dispose(disposing);
  }

  [DebuggerStepThrough]
  private void InitializeComponent()
  {
    this.components = (IContainer) new System.ComponentModel.Container();
    ComponentResourceManager componentResourceManager = new ComponentResourceManager(typeof (TabPage));
    this.imgAnimate = new ImageList(this.components);
    this.tmrAnimate = new System.Windows.Forms.Timer(this.components);
    this.SuspendLayout();
    this.imgAnimate.ImageStream = (ImageListStreamer) componentResourceManager.GetObject("imgAnimate.ImageStream");
    this.imgAnimate.TransparentColor = Color.Transparent;
    this.imgAnimate.Images.SetKeyName(0, "1.ico");
    this.imgAnimate.Images.SetKeyName(1, "2.ico");
    this.imgAnimate.Images.SetKeyName(2, "3.ico");
    this.imgAnimate.Images.SetKeyName(3, "4.ico");
    this.imgAnimate.Images.SetKeyName(4, "5.ico");
    this.imgAnimate.Images.SetKeyName(5, "6.ico");
    this.imgAnimate.Images.SetKeyName(6, "7.ico");
    this.imgAnimate.Images.SetKeyName(7, "8.ico");
    this.tmrAnimate.Interval = 500;
    this.ResumeLayout(false);
  }

  internal virtual ImageList imgAnimate
  {
    get => this._imgAnimate;
    [MethodImpl(MethodImplOptions.Synchronized)] set => this._imgAnimate = value;
  }

  internal virtual System.Windows.Forms.Timer tmrAnimate
  {
    get => this._tmrAnimate;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.tmrAnimate_Tick);
      if (this._tmrAnimate != null)
        this._tmrAnimate.Tick -= eventHandler;
      this._tmrAnimate = value;
      if (this._tmrAnimate == null)
        return;
      this._tmrAnimate.Tick += eventHandler;
    }
  }

  internal virtual Form __Form
  {
    get => this.___Form;
    [MethodImpl(MethodImplOptions.Synchronized)] set
    {
      EventHandler eventHandler = new EventHandler(this.TabContent_TextChanged);
      FormClosedEventHandler closedEventHandler = new FormClosedEventHandler(this.TabContent_FormClosed);
      if (this.___Form != null)
      {
        this.___Form.TextChanged -= eventHandler;
        this.___Form.FormClosed -= closedEventHandler;
      }
      this.___Form = value;
      if (this.___Form == null)
        return;
      this.___Form.TextChanged += eventHandler;
      this.___Form.FormClosed += closedEventHandler;
    }
  }

  [Description("Occurs when the user clicks the Tab Control.")]
  public event TabPage.ClickEventHandler Click;

  internal event TabPage.CloseEventHandler Close;

  internal event TabPage.GetTabRegionEventHandler GetTabRegion;

  internal event TabPage.TabPaintBackgroundEventHandler TabPaintBackground;

  internal event TabPage.TabPaintBorderEventHandler TabPaintBorder;

  internal event TabPage.DragingEventHandler Draging;

  public TabPage(Form Form)
  {
    this.MouseDown += new MouseEventHandler(this.Tab_MouseDown);
    this.MouseEnter += new EventHandler(this.Tab_MouseEnter);
    this.MouseLeave += new EventHandler(this.Tab_MouseLeave);
    this.MouseMove += new MouseEventHandler(this.Tab_MouseMove);
    this.__Selected = false;
    this.__Hot = false;
    this.MenuItem = new ToolStripMenuItem();
    this.__MouseOverCloseButton = false;
    this..STATIC.Tab_MouseMove.20211C128129.State.Init = new StaticLocalInitFlag();
    this.InitializeComponent();
    this.SuspendLayout();
    this.SetStyle(ControlStyles.DoubleBuffer, true);
    this.SetStyle(ControlStyles.AllPaintingInWmPaint, true);
    this.SetStyle(ControlStyles.UserPaint, true);
    this.SetStyle(ControlStyles.SupportsTransparentBackColor, true);
    base.BackColor = Color.Transparent;
    this.Visible = false;
    this.Size = new Size(1, 1);
    Form.TopLevel = false;
    Form.MdiParent = (Form) null;
    Form.FormBorderStyle = FormBorderStyle.None;
    Form.Dock = DockStyle.Fill;
    this.__Form = Form;
    this.MenuItem.Text = Form.Text;
    this.MenuItem.Image = (Image) Form.Icon.ToBitmap();
    this.MenuItem.Tag = (object) this;
    this.MenuItem.Image = (Image) null;
    this.ResumeLayout(false);
  }

  [Description("Gets the form associated with the tab page")]
  public Form Form => this.__Form;

  [Description("Gets or sets the System.Drawing.Color structure that represents the starting color of the Background linear gradient for the tab.")]
  public Color BackHighColor
  {
    get => this.__BackHighColor;
    set
    {
      this.__BackHighColor = value;
      this.Invalidate();
    }
  }

  [Description("Gets or sets the System.Drawing.Color structure that represents the ending color of the Background linear gradient for the tab.")]
  public Color BackLowColor
  {
    get => this.__BackLowColor;
    set
    {
      this.__BackLowColor = value;
      this.Invalidate();
    }
  }

  [Description("Gets or sets the System.Drawing.Color structure that represents the border color.")]
  internal Color BorderColor
  {
    get => this.__BorderColor;
    set
    {
      this.__BorderColor = value;
      this.Invalidate();
    }
  }

  [Description("Gets or sets the System.Drawing.Color structure that represents the starting color of the Background linear gradient for a non selected tab.")]
  public Color BackHighColorDisabled
  {
    get => this.__BackHighColorDisabled;
    set
    {
      this.__BackHighColorDisabled = value;
      this.Invalidate();
    }
  }

  [Description("Gets or sets the System.Drawing.Color structure that represents the ending color of the Background linear gradient for a non selected tab.")]
  public Color BackLowColorDisabled
  {
    get => this.__BackLowColorDisabled;
    set
    {
      this.__BackLowColorDisabled = value;
      this.Invalidate();
    }
  }

  [Description("Gets or sets the System.Drawing.Color structure that represents the border color of the tab when not selected.")]
  public Color BorderColorDisabled
  {
    get => this.__BorderColorDisabled;
    set
    {
      this.__BorderColorDisabled = value;
      this.Invalidate();
    }
  }

  [Description("Gets or sets the System.Drawing.Color structure that represents the fore color of the tab when not selected.")]
  public Color ForeColorDisabled
  {
    get => this.__ForeColorDisabled;
    set
    {
      this.__ForeColorDisabled = value;
      this.Invalidate();
    }
  }

  internal bool IsSelected
  {
    get => this.__Selected;
    set
    {
      if (this.__Selected == value)
        return;
      this.__Selected = value;
      if (this.__Selected)
        this.__Hot = false;
      this.Invalidate();
    }
  }

  [Description("Returns whether the tab is selected or not.")]
  public bool Selected => this.IsSelected;

  internal int MaximumWidth
  {
    get => this.__MaximumWidth;
    set
    {
      this.__MaximumWidth = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  internal int MinimumWidth
  {
    get => this.__MinimumWidth;
    set
    {
      this.__MinimumWidth = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  internal int PadLeft
  {
    get => this.__PadLeft;
    set
    {
      this.__PadLeft = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  internal int PadRight
  {
    get => this.__PadRight;
    set
    {
      this.__PadRight = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  [Description("Gets or sets whether the tab close button is visble or not.")]
  public bool CloseButtonVisible
  {
    get => this.__CloseButtonVisible;
    set
    {
      if (this.__CloseButtonVisible == value)
        return;
      this.__CloseButtonVisible = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  public Image CloseButtonImage
  {
    get => this.__CloseButton;
    set
    {
      this.__CloseButton = value;
      this.Invalidate();
    }
  }

  public Image CloseButtonImageHot
  {
    get => this.__CloseButtonImageHot;
    set
    {
      this.__CloseButtonImageHot = value;
      this.Invalidate();
    }
  }

  public Image CloseButtonImageDisabled
  {
    get => this.__CloseButtonImageDisabled;
    set
    {
      this.__CloseButtonImageDisabled = value;
      this.Invalidate();
    }
  }

  public Color CloseButtonBackHighColor
  {
    get => this.__CloseButtonBackHighColor;
    set => this.__CloseButtonBackHighColor = value;
  }

  public Color CloseButtonBackLowColor
  {
    get => this.__CloseButtonBackLowColor;
    set => this.__CloseButtonBackLowColor = value;
  }

  public Color CloseButtonBorderColor
  {
    get => this.__CloseButtonBorderColor;
    set => this.__CloseButtonBorderColor = value;
  }

  public Color CloseButtonForeColor
  {
    get => this.__CloseButtonForeColor;
    set => this.__CloseButtonForeColor = value;
  }

  public Color CloseButtonBackHighColorDisabled
  {
    get => this.__CloseButtonBackHighColorDisabled;
    set => this.__CloseButtonBackHighColorDisabled = value;
  }

  public Color CloseButtonBackLowColorDisabled
  {
    get => this.__CloseButtonBackLowColorDisabled;
    set => this.__CloseButtonBackLowColorDisabled = value;
  }

  public Color CloseButtonBorderColorDisabled
  {
    get => this.__CloseButtonBorderColorDisabled;
    set => this.__CloseButtonBorderColorDisabled = value;
  }

  public Color CloseButtonForeColorDisabled
  {
    get => this.__CloseButtonForeColorDisabled;
    set => this.__CloseButtonForeColorDisabled = value;
  }

  public Color CloseButtonBackHighColorHot
  {
    get => this.__CloseButtonBackHighColorHot;
    set => this.__CloseButtonBackHighColorHot = value;
  }

  public Color CloseButtonBackLowColorHot
  {
    get => this.__CloseButtonBackLowColorHot;
    set => this.__CloseButtonBackLowColorHot = value;
  }

  public Color CloseButtonBorderColorHot
  {
    get => this.__CloseButtonBorderColorHot;
    set => this.__CloseButtonBorderColorHot = value;
  }

  public Color CloseButtonForeColorHot
  {
    get => this.__CloseButtonForeColorHot;
    set => this.__CloseButtonForeColorHot = value;
  }

  internal bool HotTrack
  {
    get => this.__HotTrack;
    set
    {
      this.__HotTrack = value;
      this.Invalidate();
    }
  }

  internal Size CloseButtonSize
  {
    get => this.__CloseButtonSize;
    set
    {
      this.__CloseButtonSize = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  internal bool FontBoldOnSelect
  {
    get => this.__FontBoldOnSelect;
    set
    {
      this.__FontBoldOnSelect = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  internal Size IconSize
  {
    get => this.__IconSize;
    set
    {
      this.__IconSize = value;
      this.CalculateWidth();
      this.Invalidate();
    }
  }

  internal SmoothingMode SmoothingMode
  {
    get => this.__SmoothingMode;
    set
    {
      this.__SmoothingMode = value;
      this.Invalidate();
    }
  }

  internal TabControl.TabAlignment Alignment
  {
    get => this.__Alignment;
    set
    {
      this.__Alignment = value;
      this.Invalidate();
    }
  }

  internal bool GlassGradient
  {
    get => this.__GlassGradient;
    set => this.__GlassGradient = value;
  }

  internal bool BorderEnhanced
  {
    get => this.__BorderEnhanced;
    set => this.__BorderEnhanced = value;
  }

  internal ToolStripRenderMode RenderMode
  {
    get => this.__RenderMode;
    set
    {
      this.__RenderMode = value;
      this.Invalidate();
    }
  }

  internal TabControl.Weight BorderEnhanceWeight
  {
    get => this.__BorderEnhanceWeight;
    set => this.__BorderEnhanceWeight = value;
  }

  public Icon Icon
  {
    get => this.__Form.Icon;
    set
    {
      if (value != null)
      {
        this.__Form.Icon = value;
        if (!this.IconVisible)
          return;
        Region region = new Region(new Rectangle(this.PadLeft, checked ((int) Math.Round(unchecked ((double) this.Height / 2.0 - (double) this.__IconSize.Height / 2.0))), this.__IconSize.Width, this.__IconSize.Height));
        this.Invalidate(region);
        region.Dispose();
        this.MenuItem.Image = (Image) value.ToBitmap();
      }
      else
      {
        this.MenuItem.Image = (Image) null;
        this.__Form.Icon = (Icon) null;
      }
    }
  }

  public bool IconVisible
  {
    get => this.__IconVisible;
    set
    {
      this.__IconVisible = value;
      if (!value)
      {
        using (Icon icon = new Icon(this.__Form.Icon, this.__IconSize))
          TabPage.DestroyIcon(icon.Handle);
      }
      this.Icon = this.__Form.Icon;
      this.Invalidate();
    }
  }

  public bool ConfirmeClose
  {
    get => this.__ConfirmeClose;
    set => this.__ConfirmeClose = value;
  }

  [Description("Selects the TabPage.")]
  public new void Select()
  {
    if (this.IsSelected)
      return;
    TabPage.ClickEventHandler clickEvent = this.ClickEvent;
    if (clickEvent == null)
      return;
    clickEvent((object) this, new EventArgs());
  }

  private LinearGradientBrush CreateGradientBrush(
    Rectangle Rectangle,
    Color Color1,
    Color Color2)
  {
    return this.__GlassGradient ? Helper.CreateGlassGradientBrush(Rectangle, Color1, Color2) : new LinearGradientBrush(Rectangle, Color1, Color2, LinearGradientMode.Vertical);
  }

  private void TabContent_FormClosed(object sender, FormClosedEventArgs e)
  {
    TabPage.CloseEventHandler closeEvent = this.CloseEvent;
    if (closeEvent == null)
      return;
    closeEvent((object) this, new EventArgs());
  }

  private void TabContent_TextChanged(object sender, EventArgs e)
  {
    this.CalculateWidth();
    this.Invalidate();
    this.MenuItem.Text = this.__Form.Text;
  }

  private void Tab_MouseDown(object sender, MouseEventArgs e)
  {
    if (this.__Selected & !(this.__MouseOverCloseButton & this.__CloseButtonVisible) || e.Button != MouseButtons.Left)
      return;
    if (this.__MouseOverCloseButton & this.__CloseButtonVisible)
      this.__Form.Close();
    else
      this.Select();
  }

  private void Tab_MouseEnter(object sender, EventArgs e)
  {
    if (this.__Selected)
      return;
    if (this.__HotTrack)
      this.__Hot = true;
    this.Invalidate();
  }

  private void Tab_MouseLeave(object sender, EventArgs e)
  {
    this.__MouseOverCloseButton = false;
    this.__Hot = false;
    this.Invalidate();
  }

  private void Tab_MouseMove(object sender, MouseEventArgs e)
  {
    bool lockTaken = false;
    try
    {
      Monitor.Enter((object) this..STATIC.Tab_MouseMove.20211C128129.State.Init, ref lockTaken);
      if (this..STATIC.Tab_MouseMove.20211C128129.State.Init.State == (short) 0)
      {
        this..STATIC.Tab_MouseMove.20211C128129.State.Init.State = (short) 2;
        this..STATIC.Tab_MouseMove.20211C128129.State = false;
      }
      else if (this..STATIC.Tab_MouseMove.20211C128129.State.Init.State == (short) 2)
        throw new IncompleteInitialization();
    }
    finally
    {
      this..STATIC.Tab_MouseMove.20211C128129.State.Init.State = (short) 1;
      if (lockTaken)
        Monitor.Exit((object) this..STATIC.Tab_MouseMove.20211C128129.State.Init);
    }
    if (this.__CloseButtonVisible)
    {
      int x = checked (this.Width - this.PadRight - this.__CloseButtonSize.Width - 2);
      int y = checked ((int) Math.Round(unchecked ((double) this.Height / 2.0 - (double) this.__CloseButtonSize.Height / 2.0)));
      this.__MouseOverCloseButton = e.X >= x & e.X <= checked (x + this.__CloseButtonSize.Width - 1) & e.Y >= y & e.Y <= checked (y + this.__CloseButtonSize.Height - 1);
      if (this..STATIC.Tab_MouseMove.20211C128129.State != this.__MouseOverCloseButton & this.__CloseButtonVisible)
      {
        this..STATIC.Tab_MouseMove.20211C128129.State = this.__MouseOverCloseButton;
        Region region = new Region(new Rectangle(x, y, this.__CloseButtonSize.Width, this.__CloseButtonSize.Height));
        this.Invalidate(region);
        region.Dispose();
      }
    }
    if (this.RectangleToScreen(this.ClientRectangle).Contains(this.PointToScreen(new Point(e.X, e.Y))))
    {
      this.Cursor = Cursors.Default;
    }
    else
    {
      TabPage.DragingEventHandler dragingEvent = this.DragingEvent;
      if (dragingEvent == null)
        return;
      dragingEvent((object) this, e);
    }
  }

  private void DrawText(Graphics g)
  {
    Font font = new Font(this.Font, (FontStyle) Conversions.ToInteger(Interaction.IIf(this.__Selected & this.__FontBoldOnSelect, (object) FontStyle.Bold, (object) FontStyle.Regular)));
    object obj = Interaction.IIf(this.__Selected | this.__Hot, (object) this.ForeColor, (object) this.__ForeColorDisabled);
    Color color;
    Brush brush = (Brush) new SolidBrush(obj != null ? (Color) obj : color);
    RectangleF layoutRectangle = new RectangleF(Conversions.ToSingle(Operators.AddObject(Operators.AddObject((object) this.PadLeft, Interaction.IIf(this.__Form.Icon == null, (object) 0, (object) this.__IconSize.Width)), (object) 2)), 1f, Conversions.ToSingle(Operators.SubtractObject(Operators.SubtractObject(Operators.SubtractObject(Operators.SubtractObject((object) checked (this.Width - this.PadLeft), Interaction.IIf(this.__Form.Icon == null, (object) 0, (object) this.__IconSize.Height)), (object) 5), Interaction.IIf(this.__CloseButtonVisible, (object) this.__CloseButtonSize.Width, (object) 0)), (object) this.PadRight)), (float) this.DisplayRectangle.Height);
    StringFormat format = new StringFormat();
    format.FormatFlags = StringFormatFlags.NoWrap;
    format.LineAlignment = StringAlignment.Center;
    format.Trimming = StringTrimming.EllipsisCharacter;
    g.DrawString(this.__Form.Text, font, brush, layoutRectangle, format);
    format.Dispose();
    brush.Dispose();
    font.Dispose();
  }

  private void DrawIcon(Graphics g)
  {
    try
    {
      if (!this.__IconVisible || this.__Form.Icon == null)
        return;
      Rectangle targetRect = new Rectangle(this.PadLeft, checked ((int) Math.Round(unchecked ((double) this.Height / 2.0 - (double) this.__IconSize.Height / 2.0))), this.__IconSize.Width, this.__IconSize.Height);
      Icon icon = new Icon(this.__Form.Icon, this.__IconSize);
      g.DrawIcon(icon, targetRect);
      TabPage.DestroyIcon(icon.Handle);
      icon.Dispose();
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      ProjectData.ClearProjectError();
    }
  }

  [DllImport("user32.dll")]
  private static extern bool DestroyIcon(IntPtr handle);

  private void DrawCloseButton(Graphics g)
  {
    try
    {
      int x = checked (this.Width - this.__CloseButtonSize.Width + this.PadRight + 2);
      int y = checked ((int) Math.Round(unchecked ((double) this.Height / 2.0 - (double) this.__CloseButtonSize.Height / 2.0)));
      Bitmap bitmap = !this.__MouseOverCloseButton ? (!this.__Selected ? (Bitmap) this.__CloseButtonImageDisabled : (Bitmap) this.__CloseButton) : (Bitmap) this.__CloseButtonImageHot;
      bool flag = false;
      if (bitmap == null)
      {
        bitmap = this.GetButton();
        flag = true;
      }
      Icon icon = Icon.FromHandle(bitmap.GetHicon());
      Rectangle targetRect = new Rectangle(x, y, this.__CloseButtonSize.Width, this.__CloseButtonSize.Height);
      g.DrawIcon(icon, targetRect);
      if (flag)
        bitmap.Dispose();
      TabPage.DestroyIcon(icon.Handle);
      icon.Dispose();
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      ProjectData.ClearProjectError();
    }
  }

  private Bitmap GetButton()
  {
    Point[] pointArray1 = new Point[14];
    pointArray1[0] = new Point(1, 0);
    pointArray1[1] = new Point(3, 0);
    pointArray1[2] = new Point(5, 2);
    pointArray1[3] = new Point(7, 0);
    pointArray1[4] = new Point(9, 0);
    pointArray1[5] = new Point(6, 3);
    ref Point local1 = ref pointArray1[6];
    Point point1 = new Point(6, 4);
    Point point2 = point1;
    local1 = point2;
    ref Point local2 = ref pointArray1[7];
    Point point3 = new Point(9, 7);
    Point point4 = point3;
    local2 = point4;
    ref Point local3 = ref pointArray1[8];
    Point point5 = new Point(7, 7);
    Point point6 = point5;
    local3 = point6;
    ref Point local4 = ref pointArray1[9];
    Point point7 = new Point(5, 5);
    Point point8 = point7;
    local4 = point8;
    ref Point local5 = ref pointArray1[10];
    Point point9 = new Point(3, 7);
    Point point10 = point9;
    local5 = point10;
    ref Point local6 = ref pointArray1[11];
    Point point11 = new Point(1, 7);
    Point point12 = point11;
    local6 = point12;
    ref Point local7 = ref pointArray1[12];
    Point point13 = new Point(4, 4);
    Point point14 = point13;
    local7 = point14;
    ref Point local8 = ref pointArray1[13];
    Point point15 = new Point(4, 3);
    Point point16 = point15;
    local8 = point16;
    Point[] points1 = pointArray1;
    GraphicsPath graphicsPath = new GraphicsPath();
    Matrix matrix = new Matrix();
    Point[] pointArray2 = new Point[8];
    ref Point local9 = ref pointArray2[0];
    point15 = new Point(0, 1);
    Point point17 = point15;
    local9 = point17;
    ref Point local10 = ref pointArray2[1];
    point13 = new Point(1, 0);
    Point point18 = point13;
    local10 = point18;
    ref Point local11 = ref pointArray2[2];
    point11 = new Point(15, 0);
    Point point19 = point11;
    local11 = point19;
    ref Point local12 = ref pointArray2[3];
    point9 = new Point(16, 1);
    Point point20 = point9;
    local12 = point20;
    ref Point local13 = ref pointArray2[4];
    point7 = new Point(16, 14);
    Point point21 = point7;
    local13 = point21;
    ref Point local14 = ref pointArray2[5];
    point5 = new Point(15, 15);
    Point point22 = point5;
    local14 = point22;
    ref Point local15 = ref pointArray2[6];
    point3 = new Point(1, 15);
    Point point23 = point3;
    local15 = point23;
    ref Point local16 = ref pointArray2[7];
    point1 = new Point(0, 14);
    Point point24 = point1;
    local16 = point24;
    Point[] points2 = pointArray2;
    Color color1;
    Color color2;
    Color color3;
    Color color4;
    if (this.__MouseOverCloseButton)
    {
      color1 = Helper.RenderColors.TabCloseButtonBackHighColorHot(this.__RenderMode, this.CloseButtonBackHighColorHot);
      color2 = Helper.RenderColors.TabCloseButtonBackLowColorHot(this.__RenderMode, this.CloseButtonBackLowColorHot);
      color3 = Helper.RenderColors.TabCloseButtonBorderColorHot(this.__RenderMode, this.CloseButtonBorderColorHot);
      color4 = Helper.RenderColors.TabCloseButtonForeColorHot(this.__RenderMode, this.CloseButtonForeColorHot);
    }
    else if (this.__Selected)
    {
      color1 = Helper.RenderColors.TabCloseButtonBackHighColor(this.__RenderMode, this.CloseButtonBackHighColor);
      color2 = Helper.RenderColors.TabCloseButtonBackLowColor(this.__RenderMode, this.CloseButtonBackLowColor);
      color3 = Helper.RenderColors.TabCloseButtonBorderColor(this.__RenderMode, this.CloseButtonBorderColor);
      color4 = Helper.RenderColors.TabCloseButtonForeColor(this.__RenderMode, this.CloseButtonForeColor);
    }
    else
    {
      color1 = Helper.RenderColors.TabCloseButtonBackHighColorDisabled(this.__RenderMode, this.CloseButtonBackHighColorDisabled);
      color2 = Helper.RenderColors.TabCloseButtonBackLowColorDisabled(this.__RenderMode, this.CloseButtonBackLowColorDisabled);
      color3 = Helper.RenderColors.TabCloseButtonBorderColorDisabled(this.__RenderMode, this.CloseButtonBorderColorDisabled);
      color4 = Helper.RenderColors.TabCloseButtonForeColorDisabled(this.__RenderMode, this.CloseButtonForeColorDisabled);
    }
    Bitmap bitmap = new Bitmap(17, 17);
    bitmap.MakeTransparent();
    Graphics graphics = Graphics.FromImage((Image) bitmap);
    graphics.SmoothingMode = SmoothingMode.AntiAlias;
    point15 = new Point(0, 0);
    Point point1_1 = point15;
    point13 = new Point(0, 15);
    Point point2_1 = point13;
    Color color1_1 = color1;
    Color color2_1 = color2;
    LinearGradientBrush linearGradientBrush = new LinearGradientBrush(point1_1, point2_1, color1_1, color2_1);
    graphics.FillPolygon((Brush) linearGradientBrush, points2);
    Pen pen1 = new Pen(color3);
    graphics.DrawPolygon(pen1, points2);
    graphics.SmoothingMode = SmoothingMode.Default;
    graphicsPath.AddPolygon(points1);
    matrix.Translate(3f, 4f);
    graphicsPath.Transform(matrix);
    pen1.Dispose();
    Pen pen2 = new Pen(color4);
    graphics.DrawPolygon(pen2, graphicsPath.PathPoints);
    SolidBrush solidBrush = new SolidBrush(color4);
    graphics.FillPolygon((Brush) solidBrush, graphicsPath.PathPoints);
    solidBrush.Dispose();
    pen2.Dispose();
    graphicsPath.Dispose();
    graphics.Dispose();
    matrix.Dispose();
    return bitmap;
  }

  private void CalculateWidth()
  {
    Graphics graphics = this.CreateGraphics();
    int num1 = 0;
    int num2 = 0;
    int width = this.Width;
    if (this.__Form.Icon != null)
      num1 = this.__IconSize.Width;
    if (this.__CloseButtonVisible)
      num2 = this.__CloseButtonSize.Width;
    Font font = new Font(this.Font, (FontStyle) Conversions.ToInteger(Interaction.IIf(this.__FontBoldOnSelect, (object) FontStyle.Bold, (object) FontStyle.Regular)));
    int num3 = checked ((int) Math.Round(unchecked ((double) checked (this.PadLeft + num1 + 3) + (double) graphics.MeasureString(this.__Form.Text, font).Width + 3.0 + (double) num2 + (double) this.__PadRight + 2.0)));
    font.Dispose();
    if (num3 < checked (this.__MinimumWidth + 1))
      num3 = checked (this.__MinimumWidth + 1);
    else if (num3 > checked (this.__MaximumWidth + 1))
      num3 = checked (this.__MaximumWidth + 1);
    if (num3 != this.Width)
      this.Width = num3;
    graphics.Dispose();
  }

  private Point[] GetRegion(int W, int H, int H1)
  {
    TabControl.GetTabRegionEventArgs e = new TabControl.GetTabRegionEventArgs(new Point[6]
    {
      new Point(0, H),
      new Point(0, 2),
      new Point(2, 0),
      new Point(checked (W - 3), 0),
      new Point(checked (W - 1), 2),
      new Point(checked (W - 1), H)
    }, W, H, this.IsSelected);
    TabPage.GetTabRegionEventHandler getTabRegionEvent = this.GetTabRegionEvent;
    if (getTabRegionEvent != null)
      getTabRegionEvent((object) this, e);
    TabControl.GetTabRegionEventArgs tabRegionEventArgs = e;
    Point[] points = tabRegionEventArgs.Points;
    Array.Resize<Point>(ref points, checked (e.Points.Length + 2));
    tabRegionEventArgs.Points = points;
    Array.Copy((Array) e.Points, 0, (Array) e.Points, 1, checked (e.Points.Length - 1));
    e.Points[0] = new Point(e.Points[1].X, H1);
    e.Points[checked (e.Points.Length - 1)] = new Point(e.Points[checked (e.Points.Length - 2)].X, H1);
    return e.Points;
  }

  private void MirrorPath(GraphicsPath GraphicPath)
  {
    Matrix matrix = new Matrix();
    matrix.Translate(0.0f, (float) checked (this.Height - 1));
    matrix.Scale(1f, -1f);
    GraphicPath.Transform(matrix);
    matrix.Dispose();
  }

  protected override void OnPaint(PaintEventArgs e)
  {
    this.SuspendLayout();
    GraphicsPath graphicsPath = new GraphicsPath();
    int width = this.Width;
    this.CalculateWidth();
    if (width != this.Width)
    {
      graphicsPath.Dispose();
    }
    else
    {
      Color color1;
      Color Color1;
      Color Color2;
      Color color2;
      if (this.__Selected)
      {
        color1 = Helper.RenderColors.BorderColor(this.__RenderMode, this.BorderColor);
        Color1 = Helper.RenderColors.TabBackHighColor(this.__RenderMode, this.BackHighColor);
        Color2 = Helper.RenderColors.TabBackLowColor(this.__RenderMode, this.BackLowColor);
        color2 = Helper.RenderColors.TabBackLowColor(this.__RenderMode, this.BackLowColor);
      }
      else if (this.__Hot)
      {
        color1 = Helper.RenderColors.BorderColor(this.__RenderMode, this.BorderColor);
        Color1 = Helper.RenderColors.TabBackHighColor(this.__RenderMode, this.BackHighColor);
        Color2 = Helper.RenderColors.TabBackLowColor(this.__RenderMode, this.BackLowColor);
        color2 = Helper.RenderColors.BorderColor(this.__RenderMode, this.BorderColor);
      }
      else
      {
        color1 = Helper.RenderColors.BorderColorDisabled(this.__RenderMode, this.BorderColorDisabled);
        Color1 = Helper.RenderColors.TabBackHighColorDisabled(this.__RenderMode, this.BackHighColorDisabled);
        Color2 = Helper.RenderColors.TabBackLowColorDisabled(this.__RenderMode, this.BackLowColorDisabled);
        color2 = Helper.RenderColors.BorderColor(this.__RenderMode, this.BorderColor);
      }
      e.Graphics.SmoothingMode = this.__SmoothingMode;
      graphicsPath.AddPolygon(this.GetRegion(checked (this.Width - 1), checked (this.Height - 1), Conversions.ToInteger(Interaction.IIf(this.IsSelected, (object) this.Height, (object) checked (this.Height - 1)))));
      if (this.__Alignment == TabControl.TabAlignment.Bottom)
      {
        this.MirrorPath(graphicsPath);
        Color color3 = Color1;
        Color1 = Color2;
        Color2 = color3;
      }
      Region region1 = new Region(graphicsPath);
      Region region2 = new Region(graphicsPath);
      Region region3 = new Region(graphicsPath);
      Region region4 = new Region(graphicsPath);
      Matrix matrix1 = new Matrix();
      Matrix matrix2 = new Matrix();
      Matrix matrix3 = new Matrix();
      matrix1.Translate(0.0f, -0.5f);
      matrix2.Translate(0.0f, 0.5f);
      matrix3.Translate(1f, 0.0f);
      region2.Transform(matrix1);
      region3.Transform(matrix2);
      region4.Transform(matrix3);
      region1.Union(region2);
      region1.Union(region3);
      region1.Union(region4);
      this.Region = region1;
      RectangleF bounds = region1.GetBounds(e.Graphics);
      Rectangle clipRect = new Rectangle(0, 0, checked ((int) Math.Round((double) bounds.Width)), checked ((int) Math.Round((double) bounds.Height)));
      TabControl.TabPaintEventArgs e1 = new TabControl.TabPaintEventArgs(e.Graphics, clipRect, this.__Selected, this.__Hot, graphicsPath, this.Width, this.Height);
      TabPage.TabPaintBackgroundEventHandler paintBackgroundEvent = this.TabPaintBackgroundEvent;
      if (paintBackgroundEvent != null)
        paintBackgroundEvent((object) this, e1);
      LinearGradientBrush gradientBrush = this.CreateGradientBrush(new Rectangle(0, 0, this.Width, this.Height), Color1, Color2);
      if (!e1.Handled)
        e.Graphics.FillPath((Brush) gradientBrush, graphicsPath);
      gradientBrush.Dispose();
      e1.Dispose();
      TabControl.TabPaintEventArgs e2 = new TabControl.TabPaintEventArgs(e.Graphics, clipRect, this.__Selected, this.__Hot, graphicsPath, this.Width, this.Height);
      TabPage.TabPaintBorderEventHandler paintBorderEvent = this.TabPaintBorderEvent;
      if (paintBorderEvent != null)
        paintBorderEvent((object) this, e2);
      if (!e2.Handled)
      {
        if (this.__BorderEnhanced)
        {
          object obj = Interaction.IIf(this.__Alignment == TabControl.TabAlignment.Bottom, (object) Color2, (object) Color1);
          Color color3;
          Pen pen = new Pen(obj != null ? (Color) obj : color3, (float) this.__BorderEnhanceWeight);
          e.Graphics.DrawLines(pen, graphicsPath.PathPoints);
          pen.Dispose();
        }
        Pen pen1 = new Pen(color1);
        e.Graphics.DrawLines(pen1, graphicsPath.PathPoints);
        pen1.Dispose();
      }
      e2.Dispose();
      e.Graphics.SmoothingMode = SmoothingMode.None;
      e.Graphics.DrawLine(new Pen(color2), graphicsPath.PathPoints[0], graphicsPath.PathPoints[checked (graphicsPath.PointCount - 1)]);
      e.Graphics.SmoothingMode = this.__SmoothingMode;
      this.DrawIcon(e.Graphics);
      this.DrawText(e.Graphics);
      if (this.__CloseButtonVisible)
        this.DrawCloseButton(e.Graphics);
      this.ResumeLayout();
      graphicsPath.Dispose();
      matrix1.Dispose();
      matrix2.Dispose();
      matrix3.Dispose();
      region2.Dispose();
      region3.Dispose();
      region4.Dispose();
      region1.Dispose();
      e2.Dispose();
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public override Size MinimumSize
  {
    get
    {
      Size size;
      return size;
    }
    set
    {
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public override Size MaximumSize
  {
    get
    {
      Size size;
      return size;
    }
    set
    {
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public new Padding Padding
  {
    get
    {
      Padding padding;
      return padding;
    }
    set
    {
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public override Color BackColor
  {
    get
    {
      Color color;
      return color;
    }
    set
    {
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public override DockStyle Dock
  {
    get
    {
      DockStyle dockStyle;
      return dockStyle;
    }
    set
    {
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public override AnchorStyles Anchor
  {
    get
    {
      AnchorStyles anchorStyles;
      return anchorStyles;
    }
    set
    {
    }
  }

  [EditorBrowsable(EditorBrowsableState.Never)]
  public override string Text
  {
    get => (string) null;
    set
    {
    }
  }

  public void Animate(bool b)
  {
    if (b)
    {
      if (this.__Icons == null)
      {
        int num1 = checked (this.imgAnimate.Images.Count - 1);
        this.__Icons = new Icon[checked (num1 + 1)];
        int num2 = num1;
        int index = 0;
        while (index <= num2)
        {
          using (Bitmap image = (Bitmap) this.imgAnimate.Images[index])
            this.__Icons[index] = Icon.FromHandle(image.GetHicon());
          checked { ++index; }
        }
      }
      this.Icon = this.__Icons[0];
      this.IconVisible = true;
      this.tmrAnimate.Start();
    }
    else
    {
      this.tmrAnimate.Stop();
      this.IconVisible = false;
    }
  }

  private void tmrAnimate_Tick(object sender, EventArgs e)
  {
    try
    {
      if (this..STATIC.tmrAnimate_Tick.20211C1280B9.iTick < this.__Icons.Length)
        this.Icon = this.__Icons[this..STATIC.tmrAnimate_Tick.20211C1280B9.iTick];
      if (this..STATIC.tmrAnimate_Tick.20211C1280B9.iTick < this.__Icons.Length)
        checked { ++this..STATIC.tmrAnimate_Tick.20211C1280B9.iTick; }
      else
        this..STATIC.tmrAnimate_Tick.20211C1280B9.iTick = 0;
    }
    catch (Exception ex)
    {
      ProjectData.SetProjectError(ex);
      this.tmrAnimate.Stop();
      ProjectData.ClearProjectError();
    }
  }

  public delegate void ClickEventHandler(object sender, EventArgs e);

  internal delegate void CloseEventHandler(object sender, EventArgs e);

  internal delegate void GetTabRegionEventHandler(object sender, TabControl.GetTabRegionEventArgs e);

  internal delegate void TabPaintBackgroundEventHandler(
    object sender,
    TabControl.TabPaintEventArgs e);

  internal delegate void TabPaintBorderEventHandler(object sender, TabControl.TabPaintEventArgs e);

  internal delegate void DragingEventHandler(object sender, MouseEventArgs e);
}
